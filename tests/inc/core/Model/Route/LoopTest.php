<?php

namespace Runalyze\Model\Route;

/**
 * Generated by PHPUnit_SkeletonGenerator 1.2.0 on 2014-11-10 at 18:38:24.
 */
class LoopTest extends \PHPUnit_Framework_TestCase {

	public function testRouteLoop() {
		$Loop = new Loop(new Object(array(
			Object::LATITUDES => array(47.7, 47.8, 47.9, 47.8, 47.7),
			Object::LONGITUDES => array(7.7, 7.8, 7.9, 7.8, 7.7)
		)));

		$Loop->nextStep();
		$this->assertEquals(47.8, $Loop->latitude());
		$this->assertEquals(7.8, $Loop->longitude());
		$this->assertEquals(13.41, $Loop->calculatedStepDistance(), '', 0.2);

		$Loop->setStepSize(2);
		$Loop->nextStep();
		$this->assertEquals(47.8, $Loop->latitude());
		$this->assertEquals(7.8, $Loop->longitude());
		$this->assertEquals(0.0, $Loop->calculatedStepDistance());

		$Loop->nextStep();
		$this->assertTrue($Loop->isAtEnd());
	}

}
